# Task 1: Playwright Architecture (POM & State Management)

This project demonstrates a scalable Playwright automation framework using:
- Page Object Model (POM)
- Global Authentication using storage state
- Clean and maintainable test architecture

Target Application: https://www.saucedemo.com/

---

## ğŸ“¦ Prerequisites

Ensure the following are installed on your system:

- Node.js (v16 or above)
- npm (comes with Node.js)

Verify installation:

```bash
node -v
npm -v
```

---

## ğŸ“¥ Installation â€“ How to Install Dependencies

1. Clone or download this project.
2. Navigate to the project root directory.
3. Install project dependencies:

```bash
npm install
```

4. Install Playwright browsers:

```bash
npx playwright install
```

---

## â–¶ï¸ Running Playwright Tests

### Run all tests

```bash
npx playwright test
```

### Run tests in headed mode (UI visible)

```bash
npx playwright test --headed
```

### Run a specific test file

```bash
npx playwright test tests/addSecondCheapestItem.spec.js
```

---

## ğŸ“Š Test Reports

After execution, view the HTML report using:

```bash
npx playwright show-report
```

Reports include screenshots, videos, and traces for failed tests.

---

## ğŸ“ Project Structure Diagram

```
playwright-saucedemo/
â”‚
â”œâ”€â”€ auth/
â”‚   â””â”€â”€ global-setup.js        # Handles one-time login and saves auth state
â”‚
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ InventoryPage.js       # Inventory page actions & locators
â”‚   â””â”€â”€ CartPage.js            # Cart page actions & locators
â”‚
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ addSecondCheapestItem.spec.js  # Main test scenario
â”‚
â”œâ”€â”€ storage/
â”‚   â””â”€â”€ auth.json              # Auto-generated authentication state
â”‚
â”œâ”€â”€ playwright.config.js       # Playwright configuration
â”œâ”€â”€ package.json               # Project dependencies & scripts
â””â”€â”€ README.md                  # Project documentation
```

---

## ğŸ—ï¸ Architecture & Design Decisions

### 1ï¸âƒ£ Page Object Model (POM)

- Each application page has its own class.
- UI selectors and actions are separated from test logic.
- Improves reusability and maintenance.

```
pages/
 â”œâ”€â”€ InventoryPage.js
 â””â”€â”€ CartPage.js
```

---

### 2ï¸âƒ£ Global Authentication (Storage State)

- Login is handled once in `global-setup.js`.
- Authentication state is saved in `storage/auth.json`.
- Tests reuse the stored session automatically.

Benefits:
- Faster execution
- No repeated UI login
- Stable and reliable tests

```
auth/
 â””â”€â”€ global-setup.js
storage/
 â””â”€â”€ auth.json (auto-generated)
```

---

### 3ï¸âƒ£ Clean Test Structure

- Tests contain only business logic and assertions.
- No selectors or login logic inside test files.

```
tests/
 â””â”€â”€ addSecondCheapestItem.spec.js
```

---

### 4ï¸âƒ£ Debugging Support

Configured in `playwright.config.js`:
- Screenshots on failure
- Videos retained on failure
- Traces enabled on first retry

This helps in faster debugging and CI analysis.

---

## âœ… Test Scenario Covered

- Load Inventory page using saved authentication state
- Sort products by price (low to high)
- Select second cheapest product
- Add product to cart
- Verify product name and price in cart

---

## ğŸ“ Notes

- `auth.json` is auto-generated by Playwright. Do not create or edit it manually.
- Delete `storage/auth.json` if authentication expires to regenerate login state.
- This framework is scalable and CI-ready.

---

## ğŸš€ Summary

This project follows Playwright best practices and demonstrates:
- Scalable automation architecture
- Efficient authentication handling
- Clean and maintainable test design



